proxy-groups:
  # ======== 核心节点组 ========
  - name: 节点选择
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
    type: select
    proxies:
      - 自动选择
      - 手动切换
      - DIRECT
      - 香港节点
      - 台湾节点
      - 狮城节点
      - 日本节点
      - 美国节点
      - 韩国节点

  - name: 手动切换
    icon: https://testingcf.jsdelivr.net/gh/shindgewongxj/WHATSINStash@master/icon/select.png
    include-all: true
    type: select

  - name: 自动选择
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png
    type: url-test
    include-all: true
    interval: 300
    tolerance: 50
    filter: "^(?!(奈飞|NF|解锁|Netflix|NETFLIX|Media|TikTok|抖音)).*"  # 排除特殊节点

  # ======== 地区节点组 ========
  - name: 香港节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
    type: url-test
    include-all: true
    filter: "^(?!(奈飞|NF|解锁|TikTok|抖音))(?i)港|HK|Hong"
    interval: 300
    tolerance: 50

  - name: 日本节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
    type: url-test
    include-all: true
    filter: "^(?!(奈飞|NF|解锁))(?i)日本|JP|Tokyo|Osaka"
    interval: 300
    tolerance: 50

  - name: 美国节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
    type: url-test
    include-all: true
    filter: "^(?!(奈飞|NF|解锁))(?i)美|US|LA|Seattle"
    interval: 300
    tolerance: 50

  - name: 台湾节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
    type: url-test
    include-all: true
    filter: "(?i)台|TW|Taipei"
    interval: 300
    tolerance: 50

  - name: 狮城节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
    type: url-test
    include-all: true
    filter: "(?i)新加坡|SG"
    interval: 300
    tolerance: 50

  - name: 韩国节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
    type: url-test
    include-all: true
    filter: "(?i)KR|Seoul"
    interval: 300
    tolerance: 50

  - name: 奈飞节点
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    include-all: true
    filter: "(?i)NF|奈飞|解锁|Netflix"
    type: select

  # ======== 服务专用组 ========  
  - name: 国际服务
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ForeignMedia.png
    type: select
    proxies:
      - 节点选择
      - 自动选择
      - 狮城节点
      - 香港节点
      - 美国节点

  - name: 流媒体服务
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    type: select
    proxies:
      - 奈飞节点
      - 节点选择
      - 自动选择
      - 美国节点
      - 日本节点

    - name: TikTok服务
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
    type: select
    proxies:
      - 日本节点  # TikTok 通常需要日本/美国节点
      - 美国节点
      - 狮城节点
      - 手动切换
      - 节点选择

  - name: AI服务
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Bot.png
    type: select
    proxies:
      - 美国节点  # AI 服务通常需要美国节点
      - 日本节点
      - 狮城节点
      - 节点选择
      - 自动选择
  
  - name: 国内服务
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
    type: select
    proxies:
      - DIRECT
      - 台湾节点
      - 香港节点

  # ======== 系统功能组 ========
  - name: 全球直连
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
    type: select
    proxies: [DIRECT]

  - name: 广告拦截
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AdBlack.png
    type: select
    proxies: [REJECT]

  - name: 漏网之鱼
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
    type: select
    proxies:
      - 节点选择
      - 自动选择
      - DIRECT

# ======== 规则优化 ========
rule-providers:
  # 广告规则
  AdBlock:
    type: http
    behavior: domain
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/BanAD.list"
    path: ./ruleset/AdBlock.yaml
    interval: 86400

  # TikTok规则集
  TikTok:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/TikTok.list"
    path: ./ruleset/TikTok.yaml
    interval: 86400

  # AI服务规则集
  AIServices:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/OpenAi.list"
    path: ./ruleset/AIServices.yaml
    interval: 86400

  # 国际服务规则
  GlobalServices:
    type: http
    behavior: domain
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ProxyGFWlist.list"
    path: ./ruleset/GlobalServices.yaml
    interval: 86400

rules:
  - RULE-SET,AdBlock,广告拦截
  - RULE-SET,TikTok,TikTok服务  # TikTok专用规则
  - RULE-SET,AIServices,AI服务  # AI服务专用规则
  
  # 扩展AI服务域名
  - DOMAIN-SUFFIX,anthropic.com,AI服务
  - DOMAIN-SUFFIX,claude.ai,AI服务
  - DOMAIN-SUFFIX,perplexity.ai,AI服务
  - DOMAIN-SUFFIX,mistral.ai,AI服务
  - DOMAIN-SUFFIX,cohere.com,AI服务
  - DOMAIN-SUFFIX,gemini.google.com,AI服务
  - DOMAIN-SUFFIX,deepseek.com,AI服务
  
  - RULE-SET,GlobalServices,国际服务
  - DOMAIN-SUFFIX,youtube.com,流媒体服务
  - DOMAIN-SUFFIX,netflix.com,流媒体服务
  - GEOIP,CN,全球直连
  - MATCH,漏网之鱼
